<div class="items">
  <!-- Loading Indicator -->
  <div *ngIf="loading" class="spinner">Loading...</div>

  <!-- Equipment List -->
  <div class="item1" *ngFor="let equipment of equipments">
    <h3 class="t-op-nextlvl">{{ equipment.name }}</h3>
    <h3 class="t-op-nextlvl">{{ equipment.description }}</h3>
    <h3 class="t-op-nextlvl">{{ equipment.purchaseDate | date }}</h3>
    <h3 class="t-op-nextlvl">{{ equipment.warrantyEndDate | date }}</h3>
    <h3 class="t-op-nextlvl">{{ equipment.type }}</h3>
    <h3 class="t-op-nextlvl">{{ equipmentStatus[equipment.equipmentStatus] }}</h3>
    <div class="t-op-nextlvl">
      <button (click)="editEquipment(equipment.id)">Edit</button>
      <button (click)="deleteEquipment(equipment.id)">Delete</button>
      <button (click)="viewBreakdowns(equipment.id)">View Breakdowns</button>
    </div>
  </div>

  <!-- Breakdowns List -->
  <div *ngIf="selectedEquipmentId !== null">
    <h2>Breakdowns for Equipment ID: {{ selectedEquipmentId }}</h2>
    <div *ngIf="breakdowns.length > 0; else noBreakdowns">
      <ul>
        <li *ngFor="let breakdown of breakdowns">
          <p>
            {{ breakdown.id }} - {{ breakdown.description }} -
            {{ breakdown.reportedDate | date }} - {{ breakdown.repairStatus }}
            <button (click)="editBreakdown(breakdown.id)">Update</button>
            <button (click)="deleteBreakdown(breakdown.id)">Delete</button>
          </p>
        </li>
      </ul>
    </div>
    <ng-template #noBreakdowns>
      <p>No breakdowns available for this equipment.</p>
    </ng-template>
  </div>

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>
</div>
